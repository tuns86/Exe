<%- include('../partials/messages') %>

<style>
  /* Blue color scheme styling */
  .auth-container {
    max-width: 480px;
    margin: 0 auto;
    padding: 20px;
  }

  .form-toggle {
    display: flex;
    background: #e9f2ff;
    border-radius: 50px;
    padding: 4px;
    margin-bottom: 24px;
  }

  .toggle-btn {
    flex: 1;
    padding: 12px;
    border-radius: 50px;
    border: none;
    font-weight: 500;
    cursor: pointer;
    background: transparent;
    color: #2563eb;
    transition: all 0.3s ease;
  }

  .toggle-btn.active {
    background-color: #2563eb;
    color: #fff;
    box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
  }

  .form-container {
  position: relative;
  min-height: 500px; /* increased from 400px */
}

  .auth-form {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    opacity: 0;
    transform: translateX(20px);
    transition: all 0.3s ease;
    pointer-events: none;
  }

  .auth-form.active {
    opacity: 1;
    transform: translateX(0);
    pointer-events: all;
  }

  /* Blue theme overrides */
  .btn-primary {
    background-color: #2563eb !important;
    border-color: #2563eb !important;
    border-radius: 8px;
    font-weight: 600;
    padding: 12px;
    transition: all 0.3s ease;
  }

  .btn-primary:hover {
    background-color: #1d4ed8 !important;
    border-color: #1d4ed8 !important;
    transform: translateY(-1px);
    box-shadow: 0 6px 14px rgba(37, 99, 235, 0.3);
  }

  .form-control {
    border-radius: 8px;
    padding: 12px;
    border: 1px solid #d1d5db;
  }

  .form-control:focus {
    border-color: #2563eb;
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.25);
  }

  /* Blue links */
  a {
    color: #007bff !important;
  }

  a:hover {
    color: #0056b3 !important;
  }

  /* Card styling */
  .card {
    border: none;
    border-radius: 16px;
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
  }
  .card-body {
    padding: 2.5rem;
  }

  /* Icon styling */
  .fas,
  .fab {
    color: #007bff;
  }

  /* Gender radio buttons styling */
  .gender-group {
    display: flex;
    gap: 12px;
    margin-bottom: 16px; /* ðŸ‘ˆ creates space above Register button */
}

  .gender-group label {
    padding: 8px 14px;
    border: 1px solid #d1d5db;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .gender-group input[type="radio"] {
    display: none;
  }

  .gender-group input[type="radio"]:checked + label {
    background-color: #2563eb;
    color: #fff;
    border-color: #2563eb;
    box-shadow: 0 4px 10px rgba(37, 99, 235, 0.2);
  }
</style>

<div class="row mt-5">
  <div class="col-md-8 auth-container">
    <div class="card card-body">
      <div class="form-toggle">
        <button type="button" class="toggle-btn active" id="login-toggle">
          <i class="fas fa-sign-in-alt"></i> Login
        </button>
        <button type="button" class="toggle-btn" id="register-toggle">
          <i class="fas fa-user-plus"></i> Register
        </button>
      </div>

      <div class="form-container">
        <div class="auth-form active" id="login-form-container">
          <h1 class="text-center mb-4">
            <i class="fas fa-sign-in-alt"></i> Welcome Back
          </h1>
          <form action="#" method="POST" id="form-login">
            <div class="form-group">
              <label for="login-email">Email</label>
              <input
                type="email"
                id="login-email"
                name="email"
                class="form-control"
                placeholder="Enter Email"
              />
            </div>
            <div class="form-group">
              <label for="login-password">Password</label>
              <input
                type="password"
                id="login-password"
                name="password"
                class="form-control"
                placeholder="Enter Password"
              />
            </div>
            <div class="form-group login-button text-center">
              <button type="submit" class="btn btn-primary btn-block mb-2">
                Login
              </button>
            </div>
          </form>
          <p class="text-center mt-3">
            <!-- <a href="#" id="forgot-password-link">Forgot password?</a> -->
          </p>
        </div>

        <div class="auth-form" id="register-form-container">
          <h1 class="text-center mb-4">
            <i class="fas fa-user-plus"></i> Create Account
          </h1>
          <%- include('../partials/messages') %>
          <form action="/users/register" method="POST">
  <div class="form-group">
    <label for="register-name">Name</label>
    <input
      type="name"
      id="register-name"
      name="name"
      class="form-control"
      placeholder="Enter Name"
    />
  </div>

  <div class="form-group">
    <label for="register-email">Email</label>
    <input
      type="email"
      id="register-email"
      name="email"
      class="form-control"
      placeholder="Enter Email"
    />
  </div>

  <div class="form-group">
    <label for="register-password">Password</label>
    <input
      type="password"
      id="register-password"
      name="password"
      class="form-control"
      placeholder="Create Password"
      autocomplete="new-password"
    />
  </div>

  <div class="form-group">
    <label for="register-password2">Confirm Password</label>
    <input
      type="password"
      id="register-password2"
      name="password2"
      class="form-control"
      placeholder="Confirm Password"
      autocomplete="new-password"
    />
  </div>

  <div class="form-group">
    <label>Gender</label>
    <div class="gender-group">
      <div>
        <input
          type="radio"
          name="gender"
          id="female"
          value="female"
          checked="checked"
        />
        <label for="female">Female</label>
      </div>
      <div>
        <input type="radio" name="gender" id="male" value="male" />
        <label for="male">Male</label>
      </div>
    </div>
  </div>

  <div class="form-group" style="text-align: center;">
    <button type="submit" class="btn btn-primary btn-block">
      Register
    </button>
  </div>
</form>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const loginToggle = document.getElementById("login-toggle");
    const registerToggle = document.getElementById("register-toggle");
    const loginForm = document.getElementById("login-form-container");
    const registerForm = document.getElementById("register-form-container");

    // Function to switch to login form
    function showLogin() {
      loginToggle.classList.add("active");
      registerToggle.classList.remove("active");
      loginForm.classList.add("active");
      registerForm.classList.remove("active");
    }

    // Function to switch to register form
    function showRegister() {
      registerToggle.classList.add("active");
      loginToggle.classList.remove("active");
      registerForm.classList.add("active");
      loginForm.classList.remove("active");
    }

    // Event listeners for toggle buttons
    loginToggle.addEventListener("click", showLogin);
    registerToggle.addEventListener("click", showRegister);

    // Handle "Forgot password" link - could redirect or show forgot password form
    const forgotPasswordLink = document.getElementById("forgot-password-link");
    if (forgotPasswordLink) {
      forgotPasswordLink.addEventListener("click", function (e) {
        e.preventDefault();
        // You can add forgot password functionality here
        alert("Forgot password functionality can be implemented here");
      });
    }

    // Optional: Add keyboard navigation
    document.addEventListener("keydown", function (e) {
      if (e.altKey) {
        if (e.key === "1") {
          e.preventDefault();
          showLogin();
        } else if (e.key === "2") {
          e.preventDefault();
          showRegister();
        }
      }
    });
  });
</script>
