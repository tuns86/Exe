<style>
  .navbar-collapse {
    flex-grow: 0;
  }

  .navbar-collapse-right {
    margin-left: 750px;
  }

  .container-wrap {
    width: 80%;
    margin-left: auto;
    margin-right: auto;
    padding-top: 48px;
  }

  .text-container {
    width: 100%;
    max-width: 1340px;
    margin-right: auto;
    margin-left: auto;
    padding: 20px 2.4px 30px 2.4px;
    border-bottom: 1px solid #dcdacb;
  }

  .heading-xl {
    font-family: sf pro display, -apple-system, BlinkMacSystemFont, Roboto,
      segoe ui, Helvetica, Arial, sans-serif, apple color emoji, segoe ui emoji,
      segoe ui symbol;
    font-weight: 700;
    line-height: 1.2;
    letter-spacing: -0.02px;
    font-size: 24px;
    margin-bottom: 20px;
  }

  .heading-lg {
    font-family: sf pro display, -apple-system, BlinkMacSystemFont, Roboto,
      segoe ui, Helvetica, Arial, sans-serif, apple color emoji, segoe ui emoji,
      segoe ui symbol;
    font-weight: 700;
    line-height: 1.2;
    letter-spacing: -0.2px;
    font-size: 20px;
  }

  .heading-md {
    font-family: sf pro display, -apple-system, BlinkMacSystemFont, Roboto,
      segoe ui, Helvetica, Arial, sans-serif, apple color emoji, segoe ui emoji,
      segoe ui symbol;
    font-weight: 700;
    line-height: 1.2;
    letter-spacing: -0.2px;
    font-size: 16px;
  }

  /* Updated header background to blue with white text */
  .black-background {
    padding-top: 48px;
    width: 100%;
    height: 430px;
    background-color: #1e40af;
    padding-top: 32px;
    padding-bottom: 32px;
    color: white;
  }

  .inlineblock {
    display: inline-block;
    /* use calc so it sits next to the image but remains responsive */
    width: calc(100% - 480px);
    max-width: 740px;
    height: 100%;
    padding: 5px;
  }

  .img {
    float: right;
    width: 450px;
    height: 300px;
    object-fit: cover;
  }

  .checked {
    color: orange;
  }

  .what-you-will-learn {
    background-color: #fbfbf8;
    border: 1px solid #dcdacb;
    border-radius: 4px;
    padding: 24px 0;
  }

  .what-you-will-learn-content {
    flex-flow: row wrap;
    justify-content: space-between;
  }

  .fas {
    font-size: 11px;
  }

  .teacher-avt {
    width: 110px;
    height: 110px;
  }

  .heading-xxl {
    font-weight: 700;
    font-size: 60px;
  }

  .card {
    width: 140px;
    align-items: center;
    border: 0;
  }

  .bar-container {
    width: 100%;
    background-color: #f1f1f1;
    text-align: center;
    color: white;
  }

  .middle {
    margin-top: 10px;
    float: left;
    width: 70%;
  }

  .bar {
    height: 13px;
    background-color: gray;
  }

  .bar-5 {
    width: 60%;
  }

  .bar-4 {
    width: 30%;
  }

  .bar-3 {
    width: 10%;
  }

  .bar-2 {
    width: 4%;
  }

  .bar-1 {
    width: 15%;
  }

  .col {
    padding-top: 17px;
  }

  .reviews {
    width: 50px;
    height: 50px;
    margin-right: 15px;
  }

  .container {
    max-width: 1220px;
  }

  .comment {
    padding-top: 40px;
  }

  .footer-container {
    padding-top: 30px;
    padding-bottom: 20px;
    font-size: 12px;
    text-align: center;
  }

  .pagination {
    padding-top: 30px;
  }

  .btn-outline-danger {
    margin-left: 10px;
  }
  /* Buy button improvements */
  .buy-btn{
    display: inline-flex !important;
    align-items: center;
    gap: 10px;
    padding: 12px 22px;
    font-size: 18px;
    border-radius: 8px;
    box-shadow: 0 3px 8px rgba(30,64,175,0.12);
  }
  .buy-btn .fa-wallet{ font-size: 20px }
  .buy-text{ font-weight:700 }

  /* Responsive adjustments */
  @media (max-width: 992px){
    .inlineblock{ width: 100%; display: block; }
    .img{ float: none; width: 100%; height: auto; margin-bottom: 12px }
    .buy-btn{ width: 100%; justify-content: center }
    .container-wrap{ width: 95% }
  }
  .yellow-star {
    color: #fbbf24;
  }
  .red-heart {
    color: red;
  }
  .video {
    display: none;
  }

  .show-video {
    display: block;
  }
  .video-js{
      margin-left: 250px;
  }
  .row .info{
      margin-top: 10px;
      margin-left: -50px;
  }
  .student-response{
    margin-bottom: 20px;
  }
  .rating-star{
    margin-top: 20px;
  }
  .rating-star h3{
    margin-bottom: 10px;
  }
  .rating-star .star{
    margin-right: 30px;
    float: left;
    padding-top: 6px;
  }
  .rating-star .star .fa-star{
    font-size: 25px;
  }
  #evaluation label{
    margin-bottom: 10px;
    font-size: 20px;
  }
  #evaluation #review-btn{
    margin-top: 10px;
    padding: 10px 30px;
  }
  #student-feedback.text-container{
    border-bottom: 0px!important;
  }
  /* Review form styling */
  .review-card{
    background: #fff;
    border: 1px solid #e3e6ea;
    border-radius: 8px;
    box-shadow: 0 2px 6px rgba(15, 23, 42, 0.04);
    padding: 20px;
    margin-top: 20px;
  }
  .review-textarea{
    resize: vertical;
    min-height: 110px;
    border-radius: 6px;
    border: 1px solid #ced4da;
    padding: 10px;
  }
  .char-count{
    font-size: 12px;
    color: #6c757d;
  }
  .review-meta{ color: #6c757d; font-size: 13px }
  
</style>
<body>
  <!-- Updated header background to blue -->
  <div class="black-background">
    <div class="container-wrap">
      <div name="header">
        <img src="<%= course.poster %>" alt="image" class="img" />
        <div class="text-container inlineblock" style="border-bottom: 0">
          <div name="couser-detail">
            <h2
              id="nameCourse"
              data-name="<%= course.name%>"
              data-myEvaPoint="<%= myEvaluationPoint %>"
              data-evaPoint="<%= course.evaluationPoint %>"
              data-isWishCourse="<%= isWishCourse %>"
              data-isAuthenticated="<%= isAuthenticated%>"
              data-isPaid="<%= isPaid %>"
              data-id="<%= course._id %>"
            >
              <strong><%= course.name %></strong>
            </h2>
          </div>
          <p><%= course.description %></p>
          <i class="star0 fa fa-star"></i>
          <i class="star1 fa fa-star"></i>
          <i class="star2 fa fa-star"></i>
          <i class="star3 fa fa-star"></i>
          <i class="star4 fa fa-star"></i>
          <!-- <span class="star5 text-warning" style="padding-left: 5px">
            <strong
              ><%= course.evaluationPoint %> (<%= course.userEvaluations.length
              %> ƒë√°nh gi√°)</strong>
          </span> -->
          <p><%= course.uploadDate.toDateString() %></p>
          <p>
            Gi·∫£ng vi√™n:
            <a href="#" style="color: rgb(144, 205, 247)"
              ><strong><%= course.idLecturer.name %></strong></a
            >
          </p>
          <% if (!isPaid) { %>
          <!-- Make the anchor itself the large, full hit area for better clickability -->
          <a href="/payment/<%= course.name %>/checkout" class="btn btn-primary buy-btn" role="button">
            <i class="fas fa-wallet"></i>
            <span class="buy-text">Mua lu√¥n</span>
          </a>

          <% } %>
          <button id="wish-list" type="button" class="btn btn-outline-light">
            <i id="heart" class="fa fa-heart"></i>
            <strong style="font-size: 18px">Y√™u th√≠ch</strong>
          </button>
        </div>
      </div>
    </div>
  </div>

  <div class="container-wrap">
    <ul class="nav nav-tabs" id="myTab" role="tablist">
      <li class="nav-item home-tab">
        <a
          class="nav-link active"
          id="intro-tab"
          data-toggle="tab"
          href="#couser-intro"
          role="tab"
          aria-controls="intro"
          aria-selected="true"
          style="font-size: 20px"
          >Gi·ªõi thi·ªáu</a
        >
      </li>
      <li class="nav-item">
        <a
          class="nav-link"
          id="content-tab"
          data-toggle="tab"
          href="#couser-content"
          role="tab"
          aria-controls="content"
          aria-selected="false"
          style="font-size: 20px"
          >N·ªôi dung</a
        >
      </li>
      <!-- <li class="nav-item">
        <a
          class="nav-link"
          id="teacher-tab"
          data-toggle="tab"
          href="#couser-teacher"
          role="tab"
          aria-controls="teacher"
          aria-selected="false"
          style="font-size: 20px"
          >Th√¥ng tin gi·∫£ng vi√™n</a
        >
      </li>
      <li class="nav-item">
        <a
          class="nav-link"
          id="review-tab"
          data-toggle="tab"
          href="#couser-review"
          role="tab"
          aria-controls="review"
          aria-selected="false"
          style="font-size: 20px"
          >Reviews</a
        >
      </li>
      <li class="nav-item">
        <a
          class="nav-link"
          id="faq-tab"
          data-toggle="tab"
          href="#couser-faq"
          role="tab"
          aria-controls="faq"
          aria-selected="false"
          style="font-size: 20px"
          >FAQ</a
        >
      </li> -->
    </ul>

    <div id="couser-intro" class="text-container">
      <h2 class="heading-xl">V·ªÅ chuy√™n m√¥n n√†y</h2>
      <p>
        Chuy√™n ng√†nh n√†y ƒë∆∞·ª£c x√¢y d·ª±ng d·ª±a tr√™n s·ª± th√†nh c√¥ng c·ªßa kh√≥a h·ªçc
        Python cho m·ªçi ng∆∞·ªùi v√† s·∫Ω gi·ªõi thi·ªáu c√°c kh√°i ni·ªám l·∫≠p tr√¨nh c∆° b·∫£n bao
        g·ªìm c·∫•u tr√∫c d·ªØ li·ªáu, giao di·ªán ch∆∞∆°ng tr√¨nh ·ª©ng d·ª•ng ƒë∆∞·ª£c n·ªëi m·∫°ng v√†
        c∆° s·ªü d·ªØ li·ªáu, s·ª≠ d·ª•ng ng√¥n ng·ªØ l·∫≠p tr√¨nh Python. Trong D·ª± √°n Capstone,
        b·∫°n s·∫Ω s·ª≠ d·ª•ng c√°c c√¥ng ngh·ªá ƒë√£ h·ªçc trong su·ªët Chuy√™n m√¥n ƒë·ªÉ thi·∫øt k·∫ø v√†
        t·∫°o c√°c ·ª©ng d·ª•ng c·ªßa ri√™ng b·∫°n ƒë·ªÉ truy xu·∫•t, x·ª≠ l√Ω v√† hi·ªÉn th·ªã d·ªØ li·ªáu.
      </p>
      <p>Kh√≥a h·ªçc n√†y d√†nh cho:</p>
      <ul>
        <li>B·∫•t k·ª≥ ai quan t√¢m ƒë·∫øn Machine Learning</li>
        <li>
          H·ªçc sinh c√≥ √≠t nh·∫•t ki·∫øn th·ª©c trung h·ªçc v·ªÅ to√°n v√† nh·ªØng ng∆∞·ªùi mu·ªën
          b·∫Øt ƒë·∫ßu h·ªçc Machine Learning.
        </li>
        <li>
          B·∫•t k·ª≥ tr√¨nh ƒë·ªô trung c·∫•p n√†o l√† nh·ªØng ng∆∞·ªùi bi·∫øt ki·∫øn th·ª©c c∆° b·∫£n v·ªÅ
          Machine Learning, bao g·ªìm c√°c thu·∫≠t to√°n c·ªï ƒëi·ªÉn nh∆∞ h·ªìi quy tuy·∫øn
          t√≠nh ho·∫∑c h·ªìi quy logistic, nh∆∞ng nh·ªØng ng∆∞·ªùi mu·ªën t√¨m hi·ªÉu th√™m v·ªÅ n√≥
          v√† kh√°m ph√° t·∫•t c·∫£ c√°c lƒ©nh v·ª±c kh√°c nhau c·ªßa Machine Learning.
        </li>
      </ul>
      <div class="what-you-will-learn">
        <h3 style="margin: 0 2.4rem 1.6rem">
          <strong>B·∫°n s·∫Ω ƒë∆∞·ª£c h·ªçc</strong>
        </h3>
        <ul class="what-you-will-learn-content">
          <% for( let i = 0; i < course.whatYoullLearn.length; i++ ) { %>
          <i class="fas fa-check"></i>
          <span> <%= course.whatYoullLearn[i] %> </span
          ><br />
          <% } %>
        </ul>
      </div>
    </div>

    <div id="couser-content" class="text-container">
      <h2 class="heading-xl">Gi√°o tr√¨nh c·ªßa kh√≥a h·ªçc nh∆∞ sau:</h2>
      <div class="document">
        <% course.videos.forEach((v, i) => { %>
        <div class="row align-items-center border-bottom py-2">
          <div class="col-sm-8">
            <ul class="m-0">
              <i class="fa fa-play-circle"></i>
              <span style="color: black"><%= i + 1 %>. <%= v.name %></span>
            </ul>
          </div>

          <div class="col-sm-4 text-end">
            <% if (isPaid) { %>
              <!-- ‚úÖ ƒê√£ mua: xem full -->
              <a href="/course/<%= course.name %>/watch/<%= i %>" class="btn btn-outline-success btn-sm">
                ‚ñ∂ Xem video
              </a>
            <% } else { %>
              <!-- ‚ùå Ch∆∞a mua: ch·ªâ xem ƒë∆∞·ª£c 1 video demo -->
              <% if (i === course.previewIndex[0]) { %>
                <a href="/course/<%= course.name %>/watch/<%= i %>" class="btn btn-outline-primary btn-sm">
                  üëÅ Xem th·ª≠
                </a>
              <% } else { %>
                <button class="btn btn-outline-secondary btn-sm" disabled>
                  üîí Mua kh√≥a h·ªçc ƒë·ªÉ xem
                </button>
              <% } %>
            <% } %>
          </div>
        </div>
        <% }) %>
      </div>

    <div id="couser-teacher" class="text-container">
      <h2 class="heading-xl">Instructor</h2>
      <div class="heading-lg">
        <a href="#" style="text-decoration: none">
          <%= course.idLecturer.name %>
        </a>
      </div>
      <p style="color: gray">Development Team Lead</p>
      <div class="row">
        <div class="col-sm-2">
          <img src="<%= course.idLecturer.avatar %>" alt="" class="rounded-circle teacher-avt" />
        </div>
        <!-- <div class="col-sm-6 info">
          <i class="fas fa-star text-warning"></i>
          <span style="margin-left: 8px">4.5 Instructor Rating</span><br />
          <i class="fas fa-user-graduate text-warning"></i>
          <span style="margin-left: 8px">32,523 Students</span><br />

          <i class="fas fa-play-circle text-warning"></i>
          <span style="margin-left: 8px">20 Course</span><br />
        </div> -->
        <p style="padding-top: 20px">
          <%= course.idLecturer.description %> 
        </p>
      </div>
    </div>

    <div id="student-feedback" class="text-container">
      <h2 class="heading-xl">Ph·∫£n h·ªìi c·ªßa h·ªçc sinh</h2>

      <div class="row student-response">
        <div class="card">
          <div class="heading-xxl text-warning"><%= course.evaluationPoint %> </div>
          <div>
            <i class="star0 fa fa-star"></i>
            <i class="star1 fa fa-star"></i>
            <i class="star2 fa fa-star"></i>
            <i class="star3 fa fa-star"></i>
            <i class="star4 fa fa-star"></i>
          </div>
          <div class="text-warning"><strong>Course rating</strong></div>
        </div>

        <div class="col">
          <div class="middle">
            <div class="bar-container">
              <div class="bar bar-5"></div>
            </div>
          </div>

          <div class="middle">
            <div class="bar-container">
              <div class="bar bar-4"></div>
            </div>
          </div>

          <div class="middle">
            <div class="bar-container">
              <div class="bar bar-3"></div>
            </div>
          </div>

          <div class="middle">
            <div class="bar-container">
              <div class="bar bar-2"></div>
            </div>
          </div>

          <div class="middle">
            <div class="bar-container">
              <div class="bar bar-1"></div>
            </div>
          </div>
        </div>
      </div>

      <!-- Review form (styled) -->
      <div class="review-card">
        <h4 class="mb-3">Vi·∫øt ƒë√°nh gi√° c·ªßa b·∫°n</h4>
        <% if (isAuthenticated && isPaid) { %>
          <div class="mb-3">
            <textarea id="reviewText" class="form-control review-textarea" maxlength="1000" placeholder="Chia s·∫ª c·∫£m nh·∫≠n c·ªßa b·∫°n v·ªÅ kh√≥a h·ªçc..."></textarea>
            <div class="text-end mt-2"><small class="char-count">0/1000</small></div>
          </div>
          <div class="text-end">
            <button id="review-btn" type="button" class="btn btn-primary">G·ª≠i ƒë√°nh gi√°</button>
          </div>
        <% } else if (!isAuthenticated) { %>
          <p>B·∫°n c·∫ßn <a href="/users/login">ƒëƒÉng nh·∫≠p</a> ƒë·ªÉ vi·∫øt ƒë√°nh gi√°.</p>
        <% } else if (!isPaid) { %>
          <p>B·∫°n ph·∫£i mua kh√≥a h·ªçc tr∆∞·ªõc khi vi·∫øt ƒë√°nh gi√°. <a href="/payment/<%= course.name %>/checkout" class="btn btn-sm btn-outline-primary">Mua ngay</a></p>
        <% } %>
      </div>

      <div class="mt-4">
        <h3 class="heading-lg mb-3">ƒê√°nh gi√° t·ª´ h·ªçc vi√™n</h3>
        <% for( let i = 0; i < course.userReviews.length; i++ ) { %>
        <div class="row comment mb-3">
            <div class="col-sm-1">
                <img src="<%= userReviews[i].avatar %> " class="rounded-circle reviews" />
            </div>
            <div class="col-sm-11">
                <p class="heading-md"><%= userReviews[i].name %></p>
                <span class="fa fa-star checked"></span>
                <span class="fa fa-star checked"></span>
                <span class="fa fa-star checked"></span>
                <span class="fa fa-star checked"></span>
                <span class="far fa-star text-warning"></span>
                <span class="review-meta"> <%= course.userReviews[i].date.toDateString() %> </span>
                <p class="review-text" style="padding-top: 10px"><%= course.userReviews[i].review %></p>
                <a href="#"><i class="fa fa-thumbs-up" style="color: gray"></i></a>
                <span style="font-size: 12px">Was this review helpful?</span>
            </div>
        </div>
        <% } %>
      </div>
    </div>

    <div id="faq" class="text-container" style="border: 0px">
      <h2 class="heading-xl">FAQ</h2>
    </div>
  </div>

  <!-- B·∫•m n√∫t comment -->
  <script type="text/javascript">
  $(function() {
    const $txt = $("#reviewText");
    const $count = $(".char-count");

    // live character count
    $txt.on("input", () => {
      const len = $txt.val().length;
      $count.text(`${len}/1000`);
    });

    // submit review via AJAX, show better UX
    $("#review-btn").on("click", () => {
      const nameCourse = $("#nameCourse").attr("data-name");
      const review = $txt.val().trim();
      if (!review) {
        alert("Vui l√≤ng nh·∫≠p ƒë√°nh gi√° c·ªßa b·∫°n tr∆∞·ªõc khi g·ª≠i.");
        return;
      }

      const data = { review };
      $("#review-btn").prop("disabled", true).text("ƒêang g·ª≠i...");

      $.post(`/course/${nameCourse}/review`, data)
        .done((res) => {
          // reload so server-side rendering shows the new review
          window.location.reload();
        })
        .fail(() => {
          alert("ƒê√£ c√≥ l·ªói x·∫£y ra. Vui l√≤ng th·ª≠ l·∫°i sau.");
          $("#review-btn").prop("disabled", false).text("G·ª≠i ƒë√°nh gi√°");
        });
    });
  });
  </script>
  <script>
  //B·∫•m v√†o ng√¥i sao th·ª© 4
  $("#eva-star4").on("click", () => {
    console.log("4");
    $("#eva-star4").addClass("yellow-star");
    $("#eva-star3").addClass("yellow-star");
    $("#eva-star2").addClass("yellow-star");
    $("#eva-star1").addClass("yellow-star");
    $("#eva-star0").addClass("yellow-star");
  });
  //B·∫•m v√†o ng√¥i sao th·ª© 3
  $("#eva-star3").on("click", () => {
    console.log("3");
    $("#eva-star4").removeClass("yellow-star");
    $("#eva-star3").addClass("yellow-star");
    $("#eva-star2").addClass("yellow-star");
    $("#eva-star1").addClass("yellow-star");
    $("#eva-star0").addClass("yellow-star");
  });
  //B·∫•m v√†o ng√¥i sao th·ª© 2
  $("#eva-star2").on("click", () => {
    console.log("2");
    $("#eva-star4").removeClass("yellow-star");
    $("#eva-star3").removeClass("yellow-star");
    $("#eva-star2").addClass("yellow-star");
    $("#eva-star1").addClass("yellow-star");
    $("#eva-star0").addClass("yellow-star");
  });
  //B·∫•m v√†o ng√¥i sao th·ª© 1
  $("#eva-star1").on("click", () => {
    console.log("1");
    $("#eva-star4").removeClass("yellow-star");
    $("#eva-star3").removeClass("yellow-star");
    $("#eva-star2").removeClass("yellow-star");
    $("#eva-star1").addClass("yellow-star");
    $("#eva-star0").addClass("yellow-star");
  });
  //B·∫•m v√†o ng√¥i sao th·ª© 0
  $("#eva-star0").on("click", () => {
    console.log("0");
    $("#eva-star4").removeClass("yellow-star");
    $("#eva-star3").removeClass("yellow-star");
    $("#eva-star2").removeClass("yellow-star");
    $("#eva-star1").removeClass("yellow-star");
    $("#eva-star0").addClass("yellow-star");
  });
  //B·∫•m g·ª≠i ƒë√°nh gi√°
  $("#eva-btn").on("click", () => {
    const isAuthenticated = $("#nameCourse").attr("data-isAuthenticated");
    const nameCourse = $("#nameCourse").attr("data-name");

    if (isAuthenticated == "true") {
      const isPaid = $("#eva-btn").attr("data-isPaid");
      if (isPaid == "true") {
        if ($("#eva-star4").hasClass("yellow-star")) {
          const data = {
            evaluationPoint: 5,
          };
          $.post(`/course/${nameCourse}/evaluate`, data, (json) => {
            if (json == true) {
              alert("B·∫°n ƒë√£ g·ª≠i ƒë√°nh gi√° th√†nh c√¥ng");
            } else {
              alert("R·∫•t ti·∫øc! ƒë√°nh gi√° c·ªßa b·∫°n kh√¥ng ƒë∆∞·ª£c ghi nh·∫≠n");
            }
          });
        } else if ($("#eva-star3").hasClass("yellow-star")) {
          const data = {
            evaluationPoint: 4,
          };
          $.post(`/course/${nameCourse}/evaluate`, data, (json) => {
            if (json == true) {
              alert("B·∫°n ƒë√£ g·ª≠i ƒë√°nh gi√° th√†nh c√¥ng");
            } else {
              alert("R·∫•t ti·∫øc! ƒë√°nh gi√° c·ªßa b·∫°n kh√¥ng ƒë∆∞·ª£c ghi nh·∫≠n");
            }
          });
        } else if ($("#eva-star2").hasClass("yellow-star")) {
          const data = {
            evaluationPoint: 3,
          };
          $.post(`/course/${nameCourse}/evaluate`, data, (json) => {
            if (json == true) {
              alert("B·∫°n ƒë√£ g·ª≠i ƒë√°nh gi√° th√†nh c√¥ng");
            } else {
              alert("R·∫•t ti·∫øc! ƒë√°nh gi√° c·ªßa b·∫°n kh√¥ng ƒë∆∞·ª£c ghi nh·∫≠n");
            }
          });
        } else if ($("#eva-star1").hasClass("yellow-star")) {
          const data = {
            evaluationPoint: 2,
          };
          $.post(`/course/${nameCourse}/evaluate`, data, (json) => {
            if (json == true) {
              alert("B·∫°n ƒë√£ g·ª≠i ƒë√°nh gi√° th√†nh c√¥ng");
            } else {
              alert("R·∫•t ti·∫øc! ƒë√°nh gi√° c·ªßa b·∫°n kh√¥ng ƒë∆∞·ª£c ghi nh·∫≠n");
            }
          });
        } else if ($("#eva-star0").hasClass("yellow-star")) {
          const data = {
            evaluationPoint: 1,
          };
          $.post(`/course/${nameCourse}/evaluate`, data, (json) => {
            if (json == true) {
              alert("B·∫°n ƒë√£ g·ª≠i ƒë√°nh gi√° th√†nh c√¥ng");
            } else {
              alert("R·∫•t ti·∫øc! ƒë√°nh gi√° c·ªßa b·∫°n kh√¥ng ƒë∆∞·ª£c ghi nh·∫≠n");
            }
          });
        }
        window.location.reload(true);
      } else {
        alert("B·∫°n h√£y mua kh√≥a h·ªçc tr∆∞·ªõc khi ƒë√°nh gi√°");
        window.location.replace(`/payment/${nameCourse}/checkout`);
      }
    } else {
      window.location.replace("/users/login");
    }
  });
  </script>
  <script>
    //B·∫•m v√†o hi·ªán video
    $(".btn-playVideo")
      .on("click", (e) => {
        console.log("hello");
        //M·ªü t·∫Øt video
        $(e.target).parent().siblings("video").toggleClass("show-video");
        const isPaid = $("#nameCourse").attr("data-isPaid");

        //C·∫≠p nh·∫≠t th√¥ng tin learnedVideo
        console.log($(e.target).attr("data-isLearned"));
        if ($(e.target).attr("data-isLearned") == "false" && isPaid == "true") {
          const nameCourse = $("#nameCourse").attr("data-name");
          const videoIndex = $(e.target).attr("data-index");

          const data = {
            videoIndex: videoIndex,
          };
          $.post(`/users/${nameCourse}/updateLearnedVideo`, data, (json) => {
            console.log("json: ", json);
            if (json == true) {
              $(e.target).attr("data-isLearned", "true");
              console.log("C·∫≠p nh·∫≠t l·ªãch s·ª≠ h·ªçc th√†nh c√¥ng");
            }
          });
        }
      });
  </script>
  <script>
    //B·∫•m v√†o n√∫t Y√™u th√≠ch
    $("#wish-list").on("click", (e) => {
      //ƒê·ªïi m√†u button
      $("#wish-list").children("i").toggleClass("red-heart");

      //Ki·ªÉm tra ƒë√£ ƒëƒÉng nh·∫≠p ch∆∞a
      const isAuthenticated = $("#nameCourse").attr("data-isAuthenticated");
      console.log(isAuthenticated);
      if (isAuthenticated == "true") {
        //D√πng ajax g·ª≠i th√¥ng tin v·ªÅ cho server thay ƒë·ªïi danh s√°ch y√™u th√≠ch
        const courseID = $("#nameCourse").attr("data-id");
        const data = {
          courseID: courseID,
        };
        $.post("/users/wish-list-change", data);
      } else {
        //ƒëi·ªÅu h∆∞·ªõng sang trang ƒëƒÉng nh·∫≠p
        location.replace("/users/login");
      }
    });
  </script>
  <script>
    $("document").ready(() => {
      //ƒê√°nh d·∫•u tr√°i tim ƒë·ªè
      const isWishCourse = $("#nameCourse").attr("data-isWishCourse");
      if (isWishCourse == "true") {
        $("#heart").addClass("red-heart");
      }
      //ƒê√°nh d·∫•u sao v√†ng d·ª±a v√†o ƒë√°nh gi√° chung
      let evaPoint = +$("#nameCourse").attr("data-evaPoint");
      evaPoint = evaPoint.toFixed(1);
      if (evaPoint >= 5) {
        $(".star0").addClass("yellow-star");
        $(".star1").addClass("yellow-star");
        $(".star2").addClass("yellow-star");
        $(".star3").addClass("yellow-star");
        $(".star4").addClass("yellow-star");
      } else if (evaPoint >= 4) {
        $(".star0").addClass("yellow-star");
        $(".star1").addClass("yellow-star");
        $(".star2").addClass("yellow-star");
        $(".star3").addClass("yellow-star");
      } else if (evaPoint >= 3) {
        $(".star0").addClass("yellow-star");
        $(".star1").addClass("yellow-star");
        $(".star2").addClass("yellow-star");
      } else if (evaPoint >= 2) {
        $(".star0").addClass("yellow-star");
        $(".star1").addClass("yellow-star");
      } else if (evaPoint >= 1) {
        $(".star0").addClass("yellow-star");
      }

      //ƒê√°nh d·∫•u sao v√†ng d·ª±a v√†o ƒë√°nh gi√° c·ªßa t√¥i
      let myEvaPoint = +$("#nameCourse").attr("data-myEvaPoint");
      myEvaPoint = myEvaPoint.toFixed(1);
      if (myEvaPoint >= 5) {
        $(".my-star0").addClass("yellow-star");
        $(".my-star1").addClass("yellow-star");
        $(".my-star2").addClass("yellow-star");
        $(".my-star3").addClass("yellow-star");
        $(".my-star4").addClass("yellow-star");
      } else if (myEvaPoint >= 4) {
        $(".my-star0").addClass("yellow-star");
        $(".my-star1").addClass("yellow-star");
        $(".my-star2").addClass("yellow-star");
        $(".my-star3").addClass("yellow-star");
      } else if (myEvaPoint >= 3) {
        $(".my-star0").addClass("yellow-star");
        $(".my-star1").addClass("yellow-star");
        $(".my-star2").addClass("yellow-star");
      } else if (myEvaPoint >= 2) {
        $(".my-star0").addClass("yellow-star");
        $(".my-star1").addClass("yellow-star");
      } else if (myEvaPoint >= 1) {
        $(".my-star0").addClass("yellow-star");
      }
    });
  </script>
</body>
